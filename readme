conf.ninja is a basic script to convert conf.ninja files to build.ninja files

The first line of a conf.ninja file may be a shebang. By default it is python

conf.ninja is spat out as a build.ninja. Until it hits a line which purely consists of a %. Then the block until the next % line is written to a tempfile and "$shebang $tmp" is piped to build.ninja

It's really that simple. You can even use ninja's ninja_syntax module